<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
    <meta charset="utf-8">
    <meta name="generator" content="quarto-1.8.26">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


    <title>appendix-3-getting-started-checklist</title>
    <style>
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      div.columns{display: flex; gap: min(4vw, 1.5em);}
      div.column{flex: auto; overflow-x: auto;}
      div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
      ul.task-list{list-style: none;}
      ul.task-list li input[type="checkbox"] {
        width: 0.8em;
        margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
        vertical-align: middle;
      }
    </style>

    <style>
      body.hypothesis-enabled #quarto-embed-header {
        padding-right: 36px;
      }

      #quarto-embed-header {
        height: 3em;
        width: 100%;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: solid 1px;
      }

      #quarto-embed-header h6 {
        font-size: 1.1em;
        padding-top: 0.6em;
        margin-left: 1em;
        margin-right: 1em;
        font-weight: 400;
      }

      #quarto-embed-header a.quarto-back-link,
      #quarto-embed-header a.quarto-download-embed {
        font-size: 0.8em;
        margin-top: 1em;
        margin-bottom: 1em;
        margin-left: 1em;
        margin-right: 1em;
      }

      .quarto-back-container {
        padding-left: 0.5em;
        display: flex;
      }

      .headroom {
          will-change: transform;
          transition: transform 200ms linear;
      }

      .headroom--pinned {
          transform: translateY(0%);
      }

      .headroom--unpinned {
          transform: translateY(-100%);
      }      
    </style>

    <script>
    window.document.addEventListener("DOMContentLoaded", function () {

      var header = window.document.querySelector("#quarto-embed-header");
      const titleBannerEl = window.document.querySelector("body > #title-block-header");
      if (titleBannerEl) {
        titleBannerEl.style.paddingTop = header.clientHeight + "px";
      }
      const contentEl = window.document.getElementById('quarto-content');
      for (const child of contentEl.children) {
        child.style.paddingTop = header.clientHeight + "px";
        child.style.marginTop = "1em";
      }

      // Use the article root if the `back` call doesn't work. This isn't perfect
      // but should typically work
      window.quartoBackToArticle = () => {
        var currentUrl = window.location.href;
        window.history.back();
        setTimeout(() => {
            // if location was not changed in 100 ms, then there is no history back
            if(currentUrl === window.location.href){              
                // redirect to site root
                window.location.href = "../index.html";
            }
        }, 100);
      }

      const headroom = new window.Headroom(header, {
        tolerance: 5,
        onPin: function () {
        },
        onUnpin: function () {
        },
      });
      headroom.init();
    });
    </script>

    
<script src="../site_libs/manuscript-notebook/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-a74871fe4945b66d259aafc266475145.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
     
      </head>

  <body class="quarto-notebook quarto-light">
    <div id="quarto-embed-header" class="headroom fixed-top bg-primary">
      
      <a onclick="window.quartoBackToArticle(); return false;" class="btn btn-primary quarto-back-link" href=""><i class="bi bi-caret-left"></i> Back to Article</a>
      <h6><i class="bi bi-journal-code"></i> Appendix 3: Getting Started Checklist</h6>

            <a href="../appendices/appendix-3-getting-started-checklist.qmd" class="btn btn-primary quarto-download-embed" download="appendix-3-getting-started-checklist.qmd">Download Source</a>
          </div>

     <div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#appendix-3-getting-started-checklist" id="toc-appendix-3-getting-started-checklist" class="nav-link active" data-scroll-target="#appendix-3-getting-started-checklist">Appendix 3: Getting Started Checklist</a>
  <ul class="collapse">
  <li><a href="#practice-1-make-data-governance-explicit" id="toc-practice-1-make-data-governance-explicit" class="nav-link" data-scroll-target="#practice-1-make-data-governance-explicit">Practice 1 — Make Data Governance Explicit</a></li>
  <li><a href="#practice-2-reuse-proven-infrastructure" id="toc-practice-2-reuse-proven-infrastructure" class="nav-link" data-scroll-target="#practice-2-reuse-proven-infrastructure">Practice 2 — Reuse Proven Infrastructure</a></li>
  <li><a href="#practice-3-use-persistent-identifiers-pids-for-people-projects-data-and-methods" id="toc-practice-3-use-persistent-identifiers-pids-for-people-projects-data-and-methods" class="nav-link" data-scroll-target="#practice-3-use-persistent-identifiers-pids-for-people-projects-data-and-methods">Practice 3 — Use Persistent Identifiers (PIDs) for People, Projects, Data, and Methods</a></li>
  <li><a href="#practice-4-shared-data-models-vocabularies-and-metadata" id="toc-practice-4-shared-data-models-vocabularies-and-metadata" class="nav-link" data-scroll-target="#practice-4-shared-data-models-vocabularies-and-metadata">Practice 4 — Shared Data Models, Vocabularies, and Metadata</a></li>
  <li><a href="#practice-5-store-and-analyze-data-for-easy-access-use-and-trust" id="toc-practice-5-store-and-analyze-data-for-easy-access-use-and-trust" class="nav-link" data-scroll-target="#practice-5-store-and-analyze-data-for-easy-access-use-and-trust">Practice 5 — Store and Analyze Data for Easy Access, Use, and Trust</a></li>
  <li><a href="#practice-6-incentivize-and-track-sharing-and-reuse" id="toc-practice-6-incentivize-and-track-sharing-and-reuse" class="nav-link" data-scroll-target="#practice-6-incentivize-and-track-sharing-and-reuse">Practice 6 — Incentivize and Track Sharing and Reuse</a></li>
  <li><a href="#practice-7-build-community-through-codevelopment-and-mutual-benefit" id="toc-practice-7-build-community-through-codevelopment-and-mutual-benefit" class="nav-link" data-scroll-target="#practice-7-build-community-through-codevelopment-and-mutual-benefit">Practice 7 — Build Community Through Co‑Development and Mutual Benefit</a></li>
  <li><a href="#quick-start-306090day-plan" id="toc-quick-start-306090day-plan" class="nav-link" data-scroll-target="#quick-start-306090day-plan">Quick Start: 30/60/90‑Day Plan</a></li>
  <li><a href="#minimal-artifacts-checklist-project-level" id="toc-minimal-artifacts-checklist-project-level" class="nav-link" data-scroll-target="#minimal-artifacts-checklist-project-level">Minimal Artifacts Checklist (Project Level)</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
</div>
<main class="content quarto-banner-title-block" id="quarto-document-content">      <section id="appendix-3-getting-started-checklist" class="level2">
<h2 class="anchored" data-anchor-id="appendix-3-getting-started-checklist">Appendix 3: Getting Started Checklist</h2>
<p>Use this practical checklist to assess how well your project, program, or organization aligns to the seven Best Practices. Start at the Project level, then scale to Program and Organization. Check off items you’ve completed and note gaps to prioritize.</p>
<p>Tip: For each item, capture a link to the living source (e.g., repository, shared drive, policy page) and the responsible owner.</p>
<section id="practice-1-make-data-governance-explicit" class="level3">
<h3 class="anchored" data-anchor-id="practice-1-make-data-governance-explicit">Practice 1 — Make Data Governance Explicit</h3>
<section id="project" class="level4">
<h4 class="anchored" data-anchor-id="project">Project</h4>
<pre><code>- [ ] Do you have a Data Management Plan (DMP) covering scope, sensitive data, retention, and sharing? (link)
- [ ] Is there a RACI (Responsible, Accountable, Consulted, Informed) table for key tasks? (owner)
- [ ] Are Indigenous knoweledge holders or community members involved in the project?
- [ ] Are Indigenous Data Sovereignty (IDS) requirements identified and documented (who to consult, approvals needed)?
- [ ] Is a data product charter written for each dataset or analysis product with purpose, audience, quality thresholds, release plan?</code></pre>
</section>
<section id="program" class="level4">
<h4 class="anchored" data-anchor-id="program">Program</h4>
<pre><code>- [ ] Are DMP and charter templates standardized across projects and stored centrally?
- [ ] Are role definitions for Data Steward, Product Owner, and Maintainer explicit and assigned for priority datasets?
- [ ] Is this 'community-engaged' research that provides tangible benefit to communities?
- [ ] Are data sharing agreements/MOUs and ethical review pathways documented and reusable?</code></pre>
</section>
<section id="organization" class="level4">
<h4 class="anchored" data-anchor-id="organization">Organization</h4>
<pre><code>- [ ] Does a governance policy exist that sets minimum requirements for DMPs, RACI, retention, IDS, and release reviews?
- [ ] Is there a standing review forum (e.g., monthly data governance check‑in) and a registry of governed data products?</code></pre>
<p>Evidence to collect: DMP link, data product charter(s), RACI, IDS guidance, sharing agreements registry.</p>
</section>
</section>
<section id="practice-2-reuse-proven-infrastructure" class="level3">
<h3 class="anchored" data-anchor-id="practice-2-reuse-proven-infrastructure">Practice 2 — Reuse Proven Infrastructure</h3>
<section id="project-1" class="level4">
<h4 class="anchored" data-anchor-id="project-1">Project</h4>
<pre><code>- [ ] Have you researched the existing data sharing infrastructure and data storage options specific to your data and context? Eg. Ocean Biodiversity Information System, Global Biodiversity Information Facility, Knowledge Network for Biocomplexity, Zenodo, Dataverse, etc.
- [ ] Is your code in version control (e.g., Git) with an issue tracker and releases?
- [ ] Are you using an approved repository or data store rather than creating a new silo? (where)
- [ ] Do you use existing organization authentication/authorization and backup processes?</code></pre>
</section>
<section id="program-1" class="level4">
<h4 class="anchored" data-anchor-id="program-1">Program</h4>
<pre><code>- [ ] Is there a preferred stack list (storage, metadata catalog, workflow runner, packaging, container base images)?
- [ ] Do projects consistently deposit finalized data in approved repositories with clear intake criteria?</code></pre>
</section>
<section id="organization-1" class="level4">
<h4 class="anchored" data-anchor-id="organization-1">Organization</h4>
<pre><code>- [ ] Are enterprise services available and documented (data lake, object store, catalog/portal, archival repository)?
- [ ] Is there a deprecation pathway for legacy systems and a migration plan for priority datasets?</code></pre>
<p>Evidence to collect: repository URLs, infrastructure inventory, intake criteria, backup/DR documentation.</p>
</section>
</section>
<section id="practice-3-use-persistent-identifiers-pids-for-people-projects-data-and-methods" class="level3">
<h3 class="anchored" data-anchor-id="practice-3-use-persistent-identifiers-pids-for-people-projects-data-and-methods">Practice 3 — Use Persistent Identifiers (PIDs) for People, Projects, Data, and Methods</h3>
<section id="project-2" class="level4">
<h4 class="anchored" data-anchor-id="project-2">Project</h4>
<pre><code>- [ ] Do all contributors have ORCID IDs recorded in metadata?
- [ ] Does the project have a resolvable PID (e.g., DOI for a project page or protocol, internal project ID)?
- [ ] Are datasets assigned DOIs (or other PIDs) at publication, and are versions tracked?
- [ ] Are methods/protocols published and citable (e.g., protocol DOI) and linked from dataset metadata?</code></pre>
</section>
<section id="program-2" class="level4">
<h4 class="anchored" data-anchor-id="program-2">Program</h4>
<pre><code>- [ ] Is there guidance on when to mint PIDs, by whom, and where they resolve?
- [ ] Are projects linked to organizational identifiers (e.g., ROR for institutions) in metadata?</code></pre>
</section>
<section id="organization-2" class="level4">
<h4 class="anchored" data-anchor-id="organization-2">Organization</h4>
<pre><code>- [ ] Is there a PID policy and a provider/registrar configured (e.g., DataCite) with a documented workflow?
- [ ] Are PID linkages automated in the catalog (people ↔ projects ↔ datasets ↔ publications)?</code></pre>
<p>Evidence to collect: ORCID list, PID policy, DOI records, resolver links in the catalog.</p>
</section>
</section>
<section id="practice-4-shared-data-models-vocabularies-and-metadata" class="level3">
<h3 class="anchored" data-anchor-id="practice-4-shared-data-models-vocabularies-and-metadata">Practice 4 — Shared Data Models, Vocabularies, and Metadata</h3>
<section id="project-3" class="level4">
<h4 class="anchored" data-anchor-id="project-3">Project</h4>
<pre><code>- [ ] Which metadata profile is used (e.g., ISO 19115, EML)? Is the minimum profile complete and machine‑readable?
- [ ] Are core entities modeled consistently (stock/population IDs, locations, temporal coverage, age/brood year semantics)?
- [ ] Are controlled vocabularies/code lists applied for key fields (e.g., species codes, gear, life stage, age type)?
- [ ] Is a data dictionary included with definitions, units, allowed values, and provenance for each variable?</code></pre>
</section>
<section id="program-3" class="level4">
<h4 class="anchored" data-anchor-id="program-3">Program</h4>
<pre><code>- [ ] Do projects use a shared schema and code lists across datasets to enable easy joins?
- [ ] Are validation checks in CI (schema validation, vocab checks) standardized across repositories?</code></pre>
</section>
<section id="organization-3" class="level4">
<h4 class="anchored" data-anchor-id="organization-3">Organization</h4>
<pre><code>- [ ] Is there an endorsed salmon domain profile and shared code lists with owners and change control?
- [ ] Are mappings to external standards maintained (e.g., taxonomic, geospatial, hydrological registries)?</code></pre>
<p>Evidence to collect: metadata profiles, data dictionary, code lists, schema validators, mapping documentation.</p>
</section>
</section>
<section id="practice-5-store-and-analyze-data-for-easy-access-use-and-trust" class="level3">
<h3 class="anchored" data-anchor-id="practice-5-store-and-analyze-data-for-easy-access-use-and-trust">Practice 5 — Store and Analyze Data for Easy Access, Use, and Trust</h3>
<section id="project-4" class="level4">
<h4 class="anchored" data-anchor-id="project-4">Project</h4>
<pre><code>- [ ] Is raw data immutable and separated from processed/analysis outputs?
- [ ] Is there a fully reproducible workflow (scripts/notebooks + environment + parameters) that runs end‑to‑end?
- [ ] Is the computational environment captured (lockfile/conda env, container image) and versioned?
- [ ] Are QA/QC checks automated with logs and thresholds documented?
- [ ] Are access controls and sensitive data handling documented and implemented?</code></pre>
</section>
<section id="program-4" class="level4">
<h4 class="anchored" data-anchor-id="program-4">Program</h4>
<pre><code>- [ ] Do projects follow a common repo layout and release process (tags, changelog, signed artifacts)?
- [ ] Are standard storage classes, lifecycle policies, and archival rules applied?</code></pre>
</section>
<section id="organization-4" class="level4">
<h4 class="anchored" data-anchor-id="organization-4">Organization</h4>
<pre><code>- [ ] Are security, backup/retention, and audit requirements defined and routinely verified?
- [ ] Is there a trusted long‑term archive with fixity checking and preservation metadata?</code></pre>
<p>Evidence to collect: workflow definition, environment files, container references, QA/QC reports, storage/backup settings.</p>
</section>
</section>
<section id="practice-6-incentivize-and-track-sharing-and-reuse" class="level3">
<h3 class="anchored" data-anchor-id="practice-6-incentivize-and-track-sharing-and-reuse">Practice 6 — Incentivize and Track Sharing and Reuse</h3>
<section id="project-5" class="level4">
<h4 class="anchored" data-anchor-id="project-5">Project</h4>
<pre><code>- [ ] Is a clear citation and license statement included in metadata and README?
- [ ] Are reuse metrics collected (downloads, citations, API hits) and reviewed?
- [ ] Do release notes document what changed and implications for users?</code></pre>
</section>
<section id="program-5" class="level4">
<h4 class="anchored" data-anchor-id="program-5">Program</h4>
<pre><code>- [ ] Are common metrics dashboards available for priority datasets and updated automatically?
- [ ] Are data citations tracked in assessments, reports, and staff evaluations?</code></pre>
</section>
<section id="organization-5" class="level4">
<h4 class="anchored" data-anchor-id="organization-5">Organization</h4>
<pre><code>- [ ] Do policies require citation guidance and permissive, appropriate licensing where possible?
- [ ] Are automated reports of reuse (e.g., via DOI provider APIs) delivered to product owners and leadership?</code></pre>
<p>Evidence to collect: LICENSE, CITATION, reuse dashboard link, policy excerpts, sample citations in reports.</p>
</section>
</section>
<section id="practice-7-build-community-through-codevelopment-and-mutual-benefit" class="level3">
<h3 class="anchored" data-anchor-id="practice-7-build-community-through-codevelopment-and-mutual-benefit">Practice 7 — Build Community Through Co‑Development and Mutual Benefit</h3>
<section id="project-6" class="level4">
<h4 class="anchored" data-anchor-id="project-6">Project</h4>
<pre><code>- [ ] Are stakeholders identified, including First Nations/Tribes/Indigenous partners, and engagement needs documented?
- [ ] Have you held at least one co‑design session to validate user needs and success criteria?
- [ ] Is there an open feedback channel (issues form, contact) and a published roadmap?</code></pre>
</section>
<section id="program-6" class="level4">
<h4 class="anchored" data-anchor-id="program-6">Program</h4>
<pre><code>- [ ] Do cross‑project working groups exist for models, vocabularies, and tooling with regular cadence and notes?
- [ ] Are community contributions recognized (authorship, acknowledgements, meeting time, funding)?</code></pre>
</section>
<section id="organization-6" class="level4">
<h4 class="anchored" data-anchor-id="organization-6">Organization</h4>
<pre><code>- [ ] Is there an endorsed governance body or community of practice with decision records?
- [ ] Are procurement/funding mechanisms available to support shared components and Indigenous partnerships?</code></pre>
<p>Evidence to collect: stakeholder map, engagement records, roadmap, working group notes, decision log.</p>
<hr>
</section>
</section>
<section id="quick-start-306090day-plan" class="level3">
<h3 class="anchored" data-anchor-id="quick-start-306090day-plan">Quick Start: 30/60/90‑Day Plan</h3>
<ul>
<li>First 30 days
<ul class="task-list">
<li><label><input type="checkbox">Create/standardize DMP + RACI; draft data product charters for top 1–2 datasets.</label></li>
<li><label><input type="checkbox">Move code to version control; document repo structure; capture environment file.</label></li>
<li><label><input type="checkbox">Choose metadata profile and draft a minimal data dictionary; list code lists in use.</label></li>
</ul></li>
<li>By 60 days
<ul class="task-list">
<li><label><input type="checkbox">Mint/plan PIDs (project page/protocols), add ORCIDs to metadata, prepare DOI for first dataset.</label></li>
<li><label><input type="checkbox">Add schema + vocab validation to CI; separate raw/processed; automate QA/QC checks.</label></li>
<li><label><input type="checkbox">Stand up a reuse dashboard or basic metrics capture; add citation/license to README and metadata.</label></li>
</ul></li>
<li>By 90 days
<ul class="task-list">
<li><label><input type="checkbox">Publish first governed release to approved repository with DOI and complete metadata.</label></li>
<li><label><input type="checkbox">Formalize cross‑project working group and change control for vocabularies.</label></li>
<li><label><input type="checkbox">Document archival/retention path and verify backups; schedule governance reviews.</label></li>
</ul></li>
</ul>
<hr>
</section>
<section id="minimal-artifacts-checklist-project-level" class="level3">
<h3 class="anchored" data-anchor-id="minimal-artifacts-checklist-project-level">Minimal Artifacts Checklist (Project Level)</h3>
<ul class="task-list">
<li><label><input type="checkbox">DMP (with IDS considerations) and RACI</label></li>
<li><label><input type="checkbox">Data product charter(s) for priority dataset(s)</label></li>
<li><label><input type="checkbox">Versioned repository with releases and changelog</label></li>
<li><label><input type="checkbox">Metadata profile file + data dictionary + code lists</label></li>
<li><label><input type="checkbox">Reproducible workflow + environment file or container</label></li>
<li><label><input type="checkbox">QA/QC checks and results log</label></li>
<li><label><input type="checkbox">Citation and license statements</label></li>
<li><label><input type="checkbox">Plan for PIDs (ORCID list, dataset/protocol DOIs)</label></li>
<li><label><input type="checkbox">Evidence of stakeholder engagement and roadmap</label></li>
</ul>
<p>Maintain this list as a living issue in your repository and review quarterly.</p>
</section>
</section>
     </main>
<!-- /main column -->  <script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>  </div> <!-- /content --> 
  
</body></html>